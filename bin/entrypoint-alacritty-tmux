#!/bin/bash

set -euo pipefail

PATH_TMUX="$HOME/.asdf/installs/tmux/3.3a/bin/tmux"

if ! command -v "$PATH_TMUX" &> /dev/null; then
  notify-send "entrypoint-alacritty-tmux :: not found '$PATH_TMUX'"
elif "$PATH_TMUX" has-session -t Main 2>/dev/null; then
  notify-send 'entrypoint-alacritty-tmux :: session "Main" exists'
else
  "$PATH_TMUX" -2 new-session -d -s Main
  "$PATH_TMUX" -2 attach -t Main
fi
